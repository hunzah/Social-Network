"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[237],{6237:function(t,s,e){e.r(s),e.d(s,{default:function(){return G}});var o=e(5671),a=e(3144),i=e(136),n=e(5716),r=e(2791),u=e(6708),l=e(8687),d=e(9271),c="MyPosts_myPostsContainer__FuQyk",p="MyPosts_addPostForm__-xtjo",h="MyPosts_posts__oT2O-",f=e(2467),v="Post_postItem__w-5sQ",m="Post_imgAndName__+SLIv",x=e(2248),j=e(184),g=function(t){var s=t.avatar,e=t.message,o=t.name;t.count;return(0,j.jsxs)("div",{className:v,children:[(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)("img",{src:s?s.toString():x}),(0,j.jsx)("span",{children:o})]}),(0,j.jsx)("div",{children:e})]})},P=e(6139),_=e(704),N=e(8610),k=e(4881),C=(0,_.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,j.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,j.jsx)(P.Z,{component:k.K,name:"newPostText",validate:[N.C1]}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{className:f.Z.button,type:"submit",children:"publish"})})]})})),b=(0,l.$j)((function(t){var s,e,o;return{profilePage:t.profilePage,avatar:null===(s=t.profilePage.profile)||void 0===s||null===(e=s.photos)||void 0===e?void 0:e.large,name:null===(o=t.profilePage.profile)||void 0===o?void 0:o.fullName}}),(function(t){return{onAddPost:function(s){t((0,u.hB)(s))}}}))((function(t){var s=t.avatar,e=t.onAddPost,o=t.profilePage,a=t.name,i=o.postsArr.map((function(t){return(0,j.jsx)(g,{name:a,message:t.message,count:t.count,avatar:s},t.id)}));return(0,j.jsxs)("div",{className:c,children:[(0,j.jsxs)("div",{className:p,children:[(0,j.jsx)("h3",{style:{color:"white"},children:"Add new post"}),(0,j.jsx)("div",{children:(0,j.jsx)(C,{onSubmit:function(t){e(t.newPostText)}})})]}),(0,j.jsx)("div",{className:h,children:i})]})})),A={profileInfoContainer:"ProfileInfo_profileInfoContainer__mXGdU",photoAndName:"ProfileInfo_photoAndName__VleGO",profileAvatar:"ProfileInfo_profileAvatar__EgRzn",AddPhotoIcon:"ProfileInfo_AddPhotoIcon__7WWQE",statusAndContactsContainer:"ProfileInfo_statusAndContactsContainer__Gn7HJ",contacts:"ProfileInfo_contacts__46Ju8"};var S=e.p+"static/media/facebook-color-svgrepo-com.1d8e0397525aadb52a029adc60908a02.svg";var y=e.p+"static/media/instagram-1-svgrepo-com.a0a9a83448ddb5827d70493a84d37806.svg";var w=e.p+"static/media/twitter-color-svgrepo-com.cb827f1677136a45a1b10a45948ac637.svg";var I=e.p+"static/media/youtube-color-svgrepo-com.dd47c6bcb87c07f7473d9f8c7764e682.svg",T=function(t){(0,i.Z)(e,t);var s=(0,n.Z)(e);function e(){var t;(0,o.Z)(this,e);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(t=s.call.apply(s,[this].concat(i))).state={editMode:!1,status:t.props.status},t.editMode=function(){t.setState({editMode:!0})},t.deActivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChanged=function(s){t.setState({status:s.currentTarget.value})},t}return(0,a.Z)(e,[{key:"componentDidUpdate",value:function(t,s){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,j.jsxs)("div",{className:A.status,children:[(0,j.jsx)("h3",{style:{color:"white"},children:"Status"}),this.props.isOwner?(0,j.jsx)("div",{children:this.state.editMode?(0,j.jsx)("input",{autoFocus:!0,onBlur:this.deActivateEditMode,value:this.state.status,onChange:this.onStatusChanged}):(0,j.jsx)("span",{onDoubleClick:this.editMode,children:this.props.status||"No status"})}):(0,j.jsx)("div",{children:(0,j.jsx)("span",{children:this.props.status||"No status"})})]})}}]),e}(r.Component),M=function(t){var s,e=t.status,o=t.updateStatus,a=t.isOwner,i=t.savePhotoThunk,n=t.profile,r=null===(s=n.photos)||void 0===s?void 0:s.large,u=n.fullName,l=n.contacts,d=null===l||void 0===l?void 0:l.facebook,c=null===l||void 0===l?void 0:l.instagram,p=null===l||void 0===l?void 0:l.twitter,h=null===l||void 0===l?void 0:l.youtube;function f(t){var s;null!==(s=t.target.files)&&void 0!==s&&s.length&&i(t.target.files[0])}return(0,j.jsx)("div",{className:A.profileInfoContainer,children:(0,j.jsxs)("div",{className:A.descriptionBlock,children:[(0,j.jsxs)("div",{className:A.photoAndName,children:[(0,j.jsx)("img",{className:A.profileAvatar,src:r||x,alt:"profile"}),a&&(0,j.jsx)("div",{children:(0,j.jsxs)("label",{htmlFor:"main-photo-upload",className:A.photoUpload,children:[(0,j.jsx)("div",{onChange:f}),(0,j.jsx)("input",{className:A.button,id:"main-photo-upload",type:"file",onChange:f})]})}),u&&(0,j.jsx)("div",{className:A.name,children:u})]}),(0,j.jsxs)("div",{className:A.statusAndContactsContainer,children:[(0,j.jsx)(T,{isOwner:a,value:"ok",status:e,updateStatus:o}),l&&(0,j.jsxs)("div",{className:A.contacts,children:[(0,j.jsx)("a",{href:null!==d&&void 0!==d?d:void 0,children:(0,j.jsx)("img",{src:S})}),(0,j.jsx)("a",{href:null!==c&&void 0!==c?c:void 0,children:(0,j.jsx)("img",{src:y})}),(0,j.jsx)("a",{href:null!==p&&void 0!==p?p:void 0,children:(0,j.jsx)("img",{src:w})}),(0,j.jsx)("a",{href:null!==h&&void 0!==h?h:void 0,children:(0,j.jsx)("img",{src:I})})]})]})]})})},Z={profile:"Profile_profile__ES860",defaultCover:"Profile_defaultCover__0HqMd"},D=e(5398),E=function(t){var s=t.profile,e=t.status,o=t.updateStatus,a=t.owner,i=t.savePhotoThunk;return(0,j.jsxs)("div",{className:Z.profile,children:[(0,j.jsx)("div",{className:Z.defaultCoverContainer,children:(0,j.jsx)("img",{className:Z.defaultCover,src:D})}),(0,j.jsx)(M,{isOwner:a,profile:s,status:e,updateStatus:o,savePhotoThunk:i}),(0,j.jsx)(b,{})]})},O=e(7781),F=e(2163),U=function(t){(0,i.Z)(e,t);var s=(0,n.Z)(e);function e(){return(0,o.Z)(this,e),s.apply(this,arguments)}return(0,a.Z)(e,[{key:"refreshProfile",value:function(){var t=Number(this.props.match.params.userId);t||(t=this.props.userId),this.props.setProfileThunk(t),this.props.getStatusThunk(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,s,e){t.match.params.userId!==this.props.match.params.userId&&this.refreshProfile(),console.log(this.props.profile)}},{key:"render",value:function(){return(0,j.jsx)("div",{children:this.props.profile&&(0,j.jsx)(E,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusThunk,owner:!this.props.match.params.userId,savePhotoThunk:this.props.savePhotoThunk,isAuth:this.props.isAuth})})}}]),e}(r.Component),B={setProfileThunk:u.cJ,getStatusThunk:u.xD,updateStatusThunk:u.NN,savePhotoThunk:u.m2},G=(0,O.qC)(d.EN,F.D,(0,l.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,userId:t.auth.id,isAuth:t.auth.isAuth}}),B))(U)},5398:function(t,s,e){t.exports=e.p+"static/media/defaultCover.f9b05f1c3a143f2df75f.jpg"}}]);
//# sourceMappingURL=237.632bcf58.chunk.js.map